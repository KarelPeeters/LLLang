//before
fun %main() {
  <entry>
    %0 i32 = call %sum(3 i32)
    eat(%0 i32)
    return
}

fun %sum(%n i32): i32 {
  <entry>
    jump <while.cond>
  <while.cond>
    %s i32 = phi [<entry>: 0 i32, <while.body>: %0 i32]
    %i i32 = phi [<entry>: 0 i32, <while.body>: %1 i32]
    %2 i1 = lt %i i32, %n i32
    branch %2 i1 <while.body> <while.end>
  <while.body>
    %1 i32 = add %i i32, 1 i32
    %0 i32 = add %s i32, %1 i32
    jump <while.cond>
  <while.end>
    return %s i32
}

//after
fun %main() {
  <entry>
    %0 i32 = call %sum(3 i32)
    eat(%0 i32)
    return
}

fun %sum(%n i32): i32 {
  <entry>
    jump <while.cond>
  <while.cond>
    %s i32 = phi [<entry>: 0 i32, <while.body>: %0 i32]
    %i i32 = phi [<entry>: 0 i32, <while.body>: %1 i32]
    %2 i1 = lt %i i32, 3 i32
    branch %2 i1 <while.body> <while.end>
  <while.body>
    %1 i32 = add %i i32, 1 i32
    %0 i32 = add %s i32, %1 i32
    jump <while.cond>
  <while.end>
    return %s i32
}
